# Systemd unit for All Minnesota (Gunicorn)
# Place in /etc/systemd/system/gunicorn-allminnesota.service
# Runs as user 'allminnesota' (non-root). Create with: sudo useradd -m -s /bin/bash allminnesota

[Unit]
Description=Gunicorn for All Minnesota Django app
After=network.target

[Service]
User=allminnesota
Group=allminnesota
WorkingDirectory=/var/www/allminnesota
Environment="PATH=/var/www/allminnesota/venv/bin"
ExecStart=/var/www/allminnesota/venv/bin/gunicorn \
    --workers 3 \
    --bind 127.0.0.1:8000 \
    allminnesota_project.wsgi:application
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
